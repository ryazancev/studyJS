(()=>{"use strict";function e(e){var t=e.timing,n=e.draw,r=e.duration,o=performance.now();requestAnimationFrame((function e(a){var c=(a-o)/r;c>1&&(c=1);var i=t(c);n(i),c<1&&requestAnimationFrame(e)}))}function t(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw c}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(e){var t=e.keyCode,r=n,o=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),c=0,i=r.replace(/[_\d]/g,(function(e){return c<a.length?a.charAt(c++)||o.charAt(c):e}));-1!=(c=i.indexOf("_"))&&(i=i.slice(0,c));var l=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}var a,c=t(r);try{for(c.s();!(a=c.n()).done;){var i=a.value;i.addEventListener("input",o),i.addEventListener("focus",o),i.addEventListener("blur",o)}}catch(e){c.e(e)}finally{c.f()}}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,i,l,u,s,f,d,m,v,h,y,p,g,b,S,E,L,q,A;E=document.querySelector("#timer-hours"),L=document.querySelector("#timer-minutes"),q=document.querySelector("#timer-seconds"),(A=function(){var e,t,n,r=(e=(new Date("20 january 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60),{hours:Math.floor(e/60/60),minutes:n,seconds:t,timerRemaining:e});0===r.timerRemaining||r.timerRemaining<0?(clearInterval(1),E.textContent="00",L.textContent="00",q.textContent="00"):(E.textContent=r.hours<10?"0".concat(r.hours):r.hours,L.textContent=r.minutes<10?"0".concat(r.minutes):r.minutes,q.textContent=r.seconds<10?"0".concat(r.seconds):r.seconds)})(),setInterval(A,1e3),p=document.querySelector(".menu"),g=document.querySelector("menu"),b=document.querySelector('[href="#service-block"]'),S=function(){g.style.transform&&"translate(-100%)"!==g.style.transform?g.style.transform="translate(-100%)":g.style.transform="translate(0)"},p.addEventListener("click",S),g.addEventListener("click",(function(e){e.preventDefault();var t=e.target;if(t.matches("a")){var n=t.hash.substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}(t.classList.contains("close-btn")||"A"===t.tagName)&&S()})),b.addEventListener("click",(function(e){e.preventDefault();var t=b.hash.substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})})),d=document.querySelector(".popup"),m=d.querySelector(".popup-content"),v=document.querySelectorAll(".popup-btn"),h=0,y=function e(){f=requestAnimationFrame(e),++h<=38?m.style.left=h+"%":(cancelAnimationFrame(f),h=0)},v.forEach((function(e){e.addEventListener("click",(function(){d.style.display="block",screen.width>768&&(m.style.left="0%",requestAnimationFrame(y))}))})),d.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?d.style.display="":(t=t.closest(".popup-content"))||(d.style.display="")})),l=document.querySelector(".service-header"),u=l.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab"),l.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&u.forEach((function(e,n){e===t&&function(e){for(var t=0;t<s.length;t++)e===t?(u[t].classList.add("active"),s[t].classList.remove("d-none")):(u[t].classList.remove("active"),s[t].classList.add("d-none"))}(n)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),r=document.querySelector(".portfolio-content"),o=0;t.forEach((function(){var e=document.createElement("li");e.classList.add("dot"),n.insertAdjacentElement("beforeend",e)}));var a=document.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},l=function(){c(t,o,"portfolio-item-active"),c(a,o,"dot-active"),++o>=t.length&&(o=0),i(t,o,"portfolio-item-active"),i(a,o,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;e=setInterval(l,t)};u(),r.addEventListener("click",(function(e){var n=e.target;e.preventDefault(),n.matches(".portfolio-btn, .dot")&&(c(t,o,"portfolio-item-active"),c(a,o,"dot-active"),n.matches("#arrow-right")?o++:n.matches("#arrow-left")?o--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(o=t)})),o>=t.length&&(o=0),o<0&&(o=t.length-1),i(t,o,"portfolio-item-active"),i(a,o,"dot-active"))})),r.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),r.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()}))}(),document.querySelectorAll(".command__photo").forEach((function(e){var t=e.src;e.addEventListener("mouseenter",(function(){e.src=e.dataset.img})),e.addEventListener("mouseleave",(function(){e.src=t}))})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),i=document.getElementById("total"),l=function(){n.querySelectorAll('[type="text"]').forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))}))};l();var u=function(){var n=r.options[r.selectedIndex].value,l=+o.value,u=0,s=1,f=1;c.value>1&&(s+=(c.value-1)/10),a.value&&a.value<5?f*=2:a.value&&a.value<10&&(f*=1.5),n&&l&&(u=t*n*l*s*f),e({duration:100,timing:function(e){return e},draw:function(e){i.textContent=Math.floor(e*u)}})};n.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&u()}))}(100),c=document.querySelectorAll("form"),(i=document.createElement("div")).style.color="#ffffff",c.forEach((function(e){e.addEventListener("input",(function(){var t,n=o(e.elements);try{for(n.s();!(t=n.n()).done;){var a=t.value;"tel"===a.type&&r(".form-phone"),"email"===a.type&&(a.required=!0,a.value=a.value.replace(/^\w+@\w+\.\w{2,}$/,"")),"text"!==a.type||a.classList.contains("mess")||(a.value=a.value.replace(/[^а-я ]/,"")),a.classList.contains("mess")&&(a.value=a.value.replace(/[a-zA-z]+$/,""))}}catch(e){n.e(e)}finally{n.f()}})),e.addEventListener("submit",(function(t){t.preventDefault(),e.append(i),i.innerHTML='<img src="./images/Spinner-1s-38px.svg">';var n=new FormData(e),r={};n.forEach((function(e,t){r[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(r).then((function(t){if(200!==t.status)throw new Error("status network not 200");i.textContent="Заявка отправлена",setTimeout((function(){var t,n=o(e.elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;"button"!==r.tagName.toLocaleLowerCase()&&"button"!==r.type&&(r.value="")}}catch(e){n.e(e)}finally{n.f()}i.remove()}),5e3)})).catch((function(e){i.textContent="Что-то пошло не так...",console.error(e)}))}))}))})();